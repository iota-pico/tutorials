// Import the all-in-one library
import * as IotaPico from "@iota-pico/lib-nodejs";

(async function () {
    const consoleLogger = new IotaPico.ConsoleLogger();
    const tran = IotaPico.Transaction.fromTrytes(IotaPico.Trytes.fromString("BLAHBLAHBLAHBLAH99999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999NPDGGSIMKPQSMTAHVWFSLEYVISJGTKOBRVBSXPNLJITKVUAFKKISGB9ZDGJRYVMWCSDIZUNXHZGEXJKWYA99999999999999999999999999XHISISATAG99999999999999999FTRU9YD99999999999C99999999WDJXQZGKHTACGLHQYKGXVLNZOFOQWVCWSOIVUNHJDYPALCISLQHYBCPFUFKXJJBPOKZLDPFYCWSSAUNDCAUXQSY9QVBERJEOXMLVPTEWQVYTXOUFCIL9IACGARFXJITKKGRPIUXU99RQEPLATMRQNBJYFYWKE99999FLNE9CMCFS9LDWCOBOCLPJLQWVOQUCNFUSY9HQINIPCFYQAMNBQREHYH9S9LRWQGYSGRW9TLOFOGZ9999THISISATAG99999999999999999NGWGHPKJE999999999MMMMMMMMMJA99999999CZBB9999999999999"));
    const bundle = new IotaPico.Bundle();
    bundle.transactions = [tran];
    consoleLogger.log("blah", bundle);
    // // Create an end point to communicate with the node
    // const networkEndpoint = new IotaPico.NetworkEndPoint("https", "nodes.thetangle.org", 443);

    // const consoleLogger = new IotaPico.ConsoleLogger();

    // // Create a network client from the PAL
    // const networkClient = new IotaPico.NetworkClient(networkEndpoint);

    // // Create an API client using the network client and the API version
    // const apiClient = new IotaPico.ApiClient(networkClient);

    // try {
    //     const pow = new IotaPico.ProofOfWorkNodeJs();
    //     await pow.initialize();

    //     const transactionClient = new IotaPico.TransactionClient(apiClient, pow, undefined, undefined, consoleLogger);

    //     const seed = IotaPico.Hash.fromTrytes(IotaPico.Trytes.fromString("ISHKSEIVNKYFLYAUKVDRAWEUIZJIAAVICHFCIAEEUPSIJJXTLOLVJBZWEISNBVQLQJCSHCAUAFMATP9KN"));

    //     const transfers: IotaPico.Transfer[] = [
    //         IotaPico.Transfer.fromParams(
    //             IotaPico.Address.fromTrytes(IotaPico.Trytes.fromString("NPDGGSIMKPQSMTAHVWFSLEYVISJGTKOBRVBSXPNLJITKVUAFKKISGB9ZDGJRYVMWCSDIZUNXHZGEXJKWYEGEKVC9BY")),
    //             1,
    //             IotaPico.Trytes.fromString("BLAHBLAHBLAHBLAH"),
    //             IotaPico.Tag.fromTrytes(IotaPico.Trytes.fromString("THISISATAG"))
    //         )
    //     ];
        
    //     // Make the call to the transaction client
    //     const response = await transactionClient.sendTransfer(seed, 1, 15, transfers);                                                                                          

    //     // And log the response
    //     console.log(response);
    // } catch(err) {
    //     // Or log an error if it failed
    //     console.error(err);
    // }
})();
